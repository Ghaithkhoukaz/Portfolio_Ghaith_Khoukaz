---airport database example VIEW

CREATE TABLE [dbo].[ORDERS](
[ORD_NUM] NUMERIC(6,0)NOT NULL, 
[ORD_AMOUNT] INT,
[ADVANCE_AMOUNT] INT,
[ORD_DATE] DATE,
[CUST_CODE] VARCHAR(6),
[AGENT_CODE] VARCHAR(6),
[ORD_DESCRIPTION] VARCHAR(50)
)
GO

CREATE TABLE [dbo].[AGENTS](
[AGENT_CODE] VARCHAR(4) NOT NULL, 
[AGENT_NAME] VARCHAR(20),
[WORKING_AREA] VARCHAR(20),
[COMMISSION] DECIMAL(2,2),
[PHONE_NO] VARCHAR(20),
[COUNTRY] VARCHAR(20)
)
GO

CREATE TABLE [dbo].[CUSTOMER](
[CUST_CODE] VARCHAR (6)NOT NULL,
[CUST_NAME] VARCHAR(20),
[CUST_CITY ] VARCHAR(20),
[WORKING_AREA]  VARCHAR(20),
[CUST_COUNTRY] VARCHAR(20),
[GRADE] VARCHAR(1),
[OPENING_AMT] DECIMAL(10,2),
[RECEIVE_AMT] DECIMAL(10,2),
[PAYMENT_AMT] DECIMAL(10,2),
[OUTSTANDING_AMT] DECIMAL(10,2),
[PHONE_NO] VARCHAR(20),
[AGENT_CODE] VARCHAR(4) 
)
GO


INSERT INTO ORDERS Values
(200114,3500,2000,'15-AUG-08','C00002','A008','NULL'),
(200122,2500,400,'16-SEP-08','C00003','A004','NULL'),
(200118,500,100,'20-JUL-08', 'C00023', 'A006','NULL'),
(200119,4000,700,'16-SEP-08','C00007','A010','NULL'),
(200121,1500,600,'23-SEP-08','C00008','A004','NULL'),
(200130,2500,400,'30-JUL-08','C00025','A011','NULL'),
(200134,4200,1800,'25-SEP-08','C00004','A005','NULL'),
(200108,4000,600,'15-FEB-08','C00008','A004','NULL'),
(200103,1500,700,'15-MAY-08','C00021','A005','NULL'),
(200105,2500,500,'18-JUL-08','C00025','A011','NULL'),
(200109,3500,800,'30-JUL-08','C00011','A010','NULL'),
(200101,3000,1000,'15-JUL-08','C00001','A008','NULL'),
(200111,1000,300,'10-JUL-08','C00020','A008','NULL'),
(200104,1500,500,'13-MAR-08','C00006','A004','NULL'),
(200106,2500,700,'20-APR-08','C00005','A002','NULL'),
(200125,2000,600,'10-OCT-08','C00018','A005','NULL'),
(200117,800,200,'20-OCT-08','C00014','A001','NULL'),
(200123,500,100,'16-SEP-08','C00022','A002','NULL'),
(200120,500,100,'20-JUL-08','C00009','A002','NULL'),
(200116,500,100,'13-JUL-08','C00010','A009','NULL'),
(200124,500,100,'20-JUN-08','C00017','A007','NULL'),
(200126,500,100,'24-JUN-08','C00022','A002','NULL'),
(200129,2500,500,'20-JUL-08','C00024','A006','NULL'),
(200127,2500,400,'20-JUL-08','C00015','A003','NULL'),
(200128,3500,1500,'20-JUL-08','C00009','A002','NULL'),
(200135,2000,800,'16-SEP-08','C00007','A010','NULL'),
(200131,900,150,'26-AUG-08','C00012','A012','NULL'),
(200133,1200,400,'29-JUN-08','C00009','A002','NULL'),
(200100,1000,600,'08-JAN-08','C00015','A003','NULL'),
(200110,3000,500,'15-APR-08','C00019','A010','NULL'),
(200107,4500,900,'30-AUG-08','C00007','A010','NULL'),
(200112,2000,400,'30-MAY-08','C00016','A007','NULL'),
(200113,4000,600,'10-JUN-08','C00022','A002','NULL'),
(200102,2000,300,'25-MAY-08','C00012','A012','NULL')
GO


INSERT INTO AGENTS Values
('A007','Ramasundar','Bangalore',0.15,'077-25814763','NULL'),
('A003','Alex','London',0.13,'075-12458969','NULL'),
('A008','Alford','New York',0.12,'044-25874365','NULL'),
('A011','Ravi Kumar','Bangalore',0.15,'077-45625874','NULL'),
('A010','Santakumar','Chennai',0.14,'007-22388644','NULL'),
('A012','Lucida','San Jose',0.12,'044-52981425','NULL'),
('A005','Anderson','Brisban',0.13 ,'045-21447739','NULL'),
('A001','Subbarao','Bangalore',0.14,'077-12346674','NULL'),
('A002','Mukesh','Mumbai',0.11 ,'029-12358964','NULL'),
('A006','McDen','London',0.15 ,'078-22255588','NULL'),
('A004','Ivan','Torento',0.15 ,'008-22544166','NULL'),
('A009','Benjamin','Hampshair',0.11 ,'008-22536178','NULL')
GO

INSERT INTO CUSTOMER Values
('C00013','Holmes','London','London','UK','2',6000.00,5000.00,7000.00,4000.00,'BBBBBBB','A003'),
('C00001','Micheal','New York','New York','USA','2',3000.00,5000.00,2000.00,6000.00,'CCCCCCC','A008'),
('C00020','Albert','New York','New York','USA','3',5000.00,7000.00 ,6000.00,6000.00,'BBBBSBB','A008'),
('C00025','Ravindran','Bangalore','Bangalore','India','2', 5000.00 , 7000.00 , 4000.00 , 8000.00,'AVAVAVA','A011'),
('C00024','Cook','London','London','UK','2', 4000.00 , 9000.00 , 7000.00 , 6000.00 ,'FSDDSDF','A006'),
('C00015','Stuart','London','London','UK','1', 6000.00 , 8000.00 , 3000.00 , 11000.00,'GFSGERS','A003'),
('C00002','Bolt','New York','New York','USA','3', 5000.00 , 7000.00 , 9000.00 , 3000.00 ,'DDNRDRH','A008'),
('C00018','Fleming','Brisban','Brisban','Australia','2', 7000.00 , 7000.00 , 9000.00 , 5000.00 ,'NHBGVFC','A005'), 
('C00021','Jacks','Brisban','Brisban','Australia','1', 7000.00 , 7000.00 , 7000.00 , 7000.00 ,'WERTGDF','A005'),
('C00019','Yearannaidu','Chennai','Chennai','India','1', 8000.00 , 7000.00 , 7000.00 , 8000.00 ,'ZZZZBFV','A010'),
('C00005','Sasikant','Mumbai','Mumbai','India','1', 7000.00 , 11000.00 , 7000.00 , 11000.00 ,'147-25896312','A002'),
('C00007','Ramanathan','Chennai','Chennai','India','1', 7000.00 , 11000.00 , 9000.00 , 9000.00 ,'GHRDWSD','A010'),
('C00022','Avinash','Mumbai','Mumbai','India','2', 7000.00 , 11000.00 , 9000.00 , 9000.00 ,'113-12345678','A002'),
('C00004','Winston','Brisban','Brisban','Australia','1', 5000.00 , 8000.00 , 7000.00 , 6000.00 ,'AAAAAAA','A005'),
('C00023','Karl','London','London','UK','0', 4000.00 , 6000.00 , 7000.00 , 3000.00 ,'AAAABAA','A006'),
('C00006','Shilton','Torento','Torento','Canada','1', 10000.00 , 7000.00 , 6000.00 ,11000.00 ,'DDDDDDD','A004'), 
('C00010','Charles','Hampshair','Hampshair','UK','3', 6000.00 , 4000.00 , 5000.00 , 5000.00 ,'MMMMMMM','A009'),
('C00017','Srinivas','Bangalore','Bangalore','India','2', 8000.00 , 4000.00 , 3000.00 , 9000.00 ,'AAAAAAB','A007'), 
('C00012','Steven','San Jose','San Jose','USA','1', 5000.00 , 7000.00 , 9000.00 , 3000.00 ,'KRFYGJK','A012'),
('C00008','Karolina','Torento','Torento','Canada','1', 7000.00 , 7000.00 , 9000.00 , 5000.00 ,'HJKORED','A004'),
('C00003','Martin','Torento','Torento','Canada','2', 8000.00 , 7000.00 , 7000.00 , 8000.00 ,'MJYURFD','A004'),
('C00009','Ramesh','Mumbai','Mumbai','India','3', 8000.00 , 7000.00 , 3000.00 , 12000.00 ,'Phone No','A002'),
('C00014','Rangarappa','Bangalore','Bangalore','India','2', 8000.00 , 11000.00 , 7000.00 ,12000.00 ,'AAAATGF','A001'), 
('C00016','Venkatpati','Bangalore','Bangalore','India','2', 8000.00 , 11000.00 , 7000.00 , 12000.00 ,'JRTVFDD','A007'),
('C00011','Sundariya','Chennai','Chennai','India','3', 7000.00 , 11000.00 , 7000.00 , 11000.00 ,'PPHGRTS','A010')
GO


CREATE VIEW ORDERVIEW
AS SELECT A.ORD_NUM, A.ORD_AMOUNT, A.ORD_DATE,B.CUST_CODE,C.AGENT_CODE,C.AGENT_NAME,C.WORKING_AREA,B.CUST_NAME
FROM ORDERS A
JOIN CUSTOMER B
  ON A.CUST_CODE = B.CUST_CODE
JOIN AGENTS C
  ON C.AGENT_CODE = A.AGENT_CODE
GO


CREATE VIEW ORDERVIEW 
AS SELECT A.ORD_NUM, A.ORD_AMOUNT, A.ORD_DATE,B.CUST_CODE,C.AGENT_CODE,C.AGENT_NAME,C.WORKING_AREA,B.CUST_NAME
FROM ORDERS A, CUSTOMER B, AGENTS C
WHERE A.CUST_CODE = B.CUST_CODE
AND C.AGENT_CODE = A.AGENT_CODE
GO


SELECT*FROM ORDERS
SELECT*FROM AGENTS
SELECT*FROM CUSTOMER
SELECT*FROM ORDERVIEW 

